{"title":"AWS RDS (MySQL) Dashboard","description":"This dashboard brings together metrics from the MySQL database engine with resource metrics from the AWS infrastructure for a detailed view of your RDS instances. Further reading on RDS MySQL monitoring:\n\n- [Datadog's guide to key metrics for MySQL on RDS](https://www.datadoghq.com/blog/monitoring-rds-mysql-performance-metrics/)\n\n- [How to collect RDS MySQL metrics](https://www.datadoghq.com/blog/how-to-collect-rds-mysql-metrics/)\n\n- [How to monitor RDS MySQL using Datadog](https://www.datadoghq.com/blog/monitor-rds-mysql-using-datadog/)\n\n- [Datadog's RDS integration docs](https://docs.datadoghq.com/integrations/amazon_rds/)\n\nClone this template dashboard to make changes and add your own graph widgets. (cloned)","widgets":[{"id":0,"layout":{"x":80,"y":0,"width":25,"height":12},"definition":{"title":"Queries","title_size":"16","title_align":"center","time":{"live_span":"1h"},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"query":"sum:mysql.performance.questions{$region,$zone,$dbinstanceidentifier}","data_source":"metrics","name":"query1","aggregator":"last"}]}],"autoscale":true,"text_align":"center","custom_links":[],"precision":0}},{"id":1,"layout":{"x":134,"y":42,"width":12,"height":20},"definition":{"type":"note","content":"[Replication](https://www.datadoghq.com/blog/monitoring-rds-mysql-performance-metrics/#read-replica-metrics)","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":2,"layout":{"x":0,"y":0,"width":25,"height":12},"definition":{"type":"image","url":"/static/images/logos/amazon-rds_avatar.svg","sizing":"fit","margin":"large"}},{"id":3,"layout":{"x":134,"y":20,"width":12,"height":20},"definition":{"type":"note","content":"[Connections](https://www.datadoghq.com/blog/monitoring-rds-mysql-performance-metrics/#connection-metrics)","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":4,"layout":{"x":187,"y":42,"width":39,"height":20},"definition":{"title":"Replication lag","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:aws.rds.replica_lag{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}","data_source":"metrics","name":"query1"}],"style":{"palette":"warm"},"display_type":"line"}],"custom_links":[]}},{"id":5,"layout":{"x":0,"y":64,"width":12,"height":41},"definition":{"type":"note","content":"[Disk I/O](https://www.datadoghq.com/blog/monitoring-rds-mysql-performance-metrics/#resource-utilization)","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":6,"layout":{"x":27,"y":0,"width":25,"height":12},"definition":{"type":"image","url":"/static/images/logos/mysql_large.svg","sizing":"center"}},{"id":7,"layout":{"x":0,"y":20,"width":12,"height":42},"definition":{"type":"note","content":"\n[Query volume](https://www.datadoghq.com/blog/monitoring-rds-mysql-performance-metrics/#query-throughput)","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":8,"layout":{"x":53,"y":20,"width":39,"height":20},"definition":{"title":"Reads per second","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1 + query2"}],"response_format":"timeseries","queries":[{"query":"avg:mysql.performance.com_select{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}","data_source":"metrics","name":"query1"},{"query":"avg:mysql.performance.qcache_hits{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}","data_source":"metrics","name":"query2"}],"style":{"palette":"green"},"display_type":"line"}],"custom_links":[]}},{"id":9,"layout":{"x":93,"y":20,"width":39,"height":20},"definition":{"title":"Writes per second","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1 + query2 + query3"}],"response_format":"timeseries","queries":[{"query":"avg:mysql.performance.com_insert{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}","data_source":"metrics","name":"query1"},{"query":"avg:mysql.performance.com_update{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}","data_source":"metrics","name":"query2"},{"query":"avg:mysql.performance.com_delete{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}","data_source":"metrics","name":"query3"}],"style":{"palette":"purple"},"display_type":"line"}],"custom_links":[]}},{"id":10,"layout":{"x":13,"y":42,"width":39,"height":20},"definition":{"title":"Slow queries","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:mysql.performance.slow_queries{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}","data_source":"metrics","name":"query1"}],"style":{"palette":"warm"},"display_type":"bars"}],"custom_links":[]}},{"id":11,"layout":{"x":93,"y":85,"width":39,"height":20},"definition":{"title":"Write latency per I/O","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:aws.rds.write_latency{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}","data_source":"metrics","name":"query1"}],"style":{"palette":"purple"},"display_type":"line"}],"custom_links":[]}},{"id":12,"layout":{"x":53,"y":85,"width":39,"height":20},"definition":{"title":"Read latency per I/O","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:aws.rds.read_latency{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}","data_source":"metrics","name":"query1"}],"style":{"palette":"green"},"display_type":"line"}],"custom_links":[]}},{"id":13,"layout":{"x":147,"y":20,"width":39,"height":20},"definition":{"title":"Threads connected","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:mysql.performance.threads_connected{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}","data_source":"metrics","name":"query1"}],"style":{"palette":"grey"},"display_type":"line"}],"custom_links":[]}},{"id":14,"layout":{"x":187,"y":64,"width":39,"height":20},"definition":{"title":"Network in","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:aws.rds.network_receive_throughput{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}.as_rate()","data_source":"metrics","name":"query1"}],"style":{"palette":"purple"},"display_type":"line"}],"custom_links":[]}},{"id":15,"layout":{"x":227,"y":64,"width":39,"height":20},"definition":{"title":"Network out","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:aws.rds.network_transmit_throughput{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}.as_rate()","data_source":"metrics","name":"query1"}],"style":{"palette":"green"},"display_type":"line"}],"custom_links":[]}},{"id":16,"layout":{"x":147,"y":64,"width":39,"height":20},"definition":{"title":"CPU","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:aws.rds.cpuutilization{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}","data_source":"metrics","name":"query1"}],"style":{"palette":"warm"},"display_type":"line"}],"custom_links":[]}},{"id":17,"layout":{"x":134,"y":0,"width":25,"height":12},"definition":{"title":"Threads connected","title_size":"16","title_align":"center","time":{"live_span":"1h"},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"query":"sum:mysql.performance.threads_connected{$region,$zone,$dbinstanceidentifier}","data_source":"metrics","name":"query1","aggregator":"last"}]}],"autoscale":true,"text_align":"center","custom_links":[]}},{"id":18,"layout":{"x":161,"y":0,"width":25,"height":12},"definition":{"title":"Threads running","title_size":"16","title_align":"center","time":{"live_span":"1h"},"type":"query_value","requests":[{"response_format":"scalar","queries":[{"query":"sum:mysql.performance.threads_running{$region,$zone,$dbinstanceidentifier}","data_source":"metrics","name":"query1","aggregator":"last"}]}],"autoscale":true,"text_align":"center","custom_links":[]}},{"id":19,"layout":{"x":187,"y":20,"width":39,"height":20},"definition":{"title":"Threads running","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:mysql.performance.threads_running{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}","data_source":"metrics","name":"query1"}],"style":{"palette":"grey"},"display_type":"line"}],"custom_links":[]}},{"id":20,"layout":{"x":147,"y":42,"width":39,"height":20},"definition":{"title":"Bin log usage on master","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:aws.rds.bin_log_disk_usage{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}","data_source":"metrics","name":"query1"}],"display_type":"bars"}],"custom_links":[]}},{"id":21,"layout":{"x":13,"y":20,"width":39,"height":20},"definition":{"title":"Queries per second","title_size":"16","title_align":"left","show_legend":false,"legend_layout":"auto","legend_columns":["avg","min","max","value","sum"],"type":"timeseries","requests":[{"formulas":[{"formula":"query1"}],"response_format":"timeseries","queries":[{"query":"avg:mysql.performance.questions{$dbinstanceidentifier}","data_source":"metrics","name":"query1"}],"style":{"palette":"orange"},"display_type":"line"}],"custom_links":[]}},{"id":22,"layout":{"x":13,"y":14,"width":39,"height":5},"definition":{"type":"note","content":"Overall","background_color":"blue","font_size":"16","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":23,"layout":{"x":53,"y":14,"width":39,"height":5},"definition":{"type":"note","content":"Reads","background_color":"blue","font_size":"16","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":24,"layout":{"x":93,"y":14,"width":39,"height":5},"definition":{"type":"note","content":"Writes","background_color":"blue","font_size":"16","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"bottom"}},{"id":25,"layout":{"x":53,"y":42,"width":39,"height":20},"definition":{"title":"Highest reads/sec by instance, past hour","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"formulas":[{"formula":"query1","limit":{"count":10,"order":"desc"}}],"style":{"palette":"green"},"response_format":"scalar","queries":[{"query":"avg:mysql.performance.com_select{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}","data_source":"metrics","name":"query1","aggregator":"avg"}]}],"custom_links":[]}},{"id":26,"layout":{"x":93,"y":42,"width":39,"height":20},"definition":{"title":"Highest writes/sec by instance, past hour","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"formulas":[{"formula":"query1","limit":{"count":10,"order":"desc"}}],"style":{"palette":"purple"},"response_format":"scalar","queries":[{"query":"avg:mysql.performance.com_insert{$region,$zone,$dbinstanceidentifier} by {dbinstanceidentifier}","data_source":"metrics","name":"query1","aggregator":"avg"}]}],"custom_links":[]}},{"id":27,"layout":{"x":107,"y":0,"width":25,"height":12},"definition":{"title":"Max slow query rate","title_size":"16","title_align":"center","time":{"live_span":"1h"},"type":"query_value","requests":[{"conditional_formats":[{"comparator":">","palette":"white_on_red","value":1}],"response_format":"scalar","queries":[{"query":"sum:mysql.performance.slow_queries{$region,$zone,$dbinstanceidentifier}","data_source":"metrics","name":"query1","aggregator":"max"}]}],"autoscale":true,"text_align":"left","custom_links":[],"precision":2}},{"id":28,"layout":{"x":53,"y":64,"width":39,"height":20},"definition":{"title":"Read I/O","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:aws.rds.read_iops{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}.as_rate()","data_source":"metrics","name":"query1"}],"style":{"palette":"green"},"display_type":"line"}],"custom_links":[]}},{"id":29,"layout":{"x":93,"y":64,"width":39,"height":20},"definition":{"title":"Write I/O","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:aws.rds.write_iops{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}.as_rate()","data_source":"metrics","name":"query1"}],"style":{"palette":"purple"},"display_type":"line"}],"custom_links":[]}},{"id":30,"layout":{"x":13,"y":64,"width":39,"height":20},"definition":{"title":"Total I/O","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"formulas":[{"formula":"query1 + query2"}],"response_format":"timeseries","queries":[{"query":"avg:aws.rds.read_iops{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}.as_rate()","data_source":"metrics","name":"query1"},{"query":"avg:aws.rds.write_iops{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}.as_rate()","data_source":"metrics","name":"query2"}],"style":{"palette":"blue"},"display_type":"line"}],"custom_links":[]}},{"id":31,"layout":{"x":13,"y":85,"width":39,"height":20},"definition":{"title":"Disk queue depth","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:aws.rds.disk_queue_depth{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}","data_source":"metrics","name":"query1"}],"style":{"palette":"blue"},"display_type":"line"}],"custom_links":[]}},{"id":32,"layout":{"x":134,"y":64,"width":12,"height":41},"definition":{"type":"note","content":"[AWS resource metrics](https://www.datadoghq.com/blog/monitoring-rds-mysql-performance-metrics/#resource-utilization)","background_color":"gray","font_size":"18","text_align":"center","show_tick":true,"tick_pos":"50%","tick_edge":"right"}},{"id":33,"layout":{"x":187,"y":85,"width":39,"height":20},"definition":{"title":"RAM","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:aws.rds.freeable_memory{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}","data_source":"metrics","name":"query1"}],"style":{"palette":"cool"},"display_type":"line"}],"custom_links":[]}},{"id":34,"layout":{"x":227,"y":85,"width":39,"height":20},"definition":{"title":"Swap","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:aws.rds.swap_usage{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}","data_source":"metrics","name":"query1"}],"style":{"palette":"orange"},"display_type":"line"}],"custom_links":[]}},{"id":35,"layout":{"x":147,"y":85,"width":39,"height":20},"definition":{"title":"Free storage space","title_size":"16","title_align":"left","show_legend":false,"legend_size":"0","time":{"live_span":"4h"},"type":"timeseries","requests":[{"response_format":"timeseries","queries":[{"query":"avg:aws.rds.free_storage_space{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}","data_source":"metrics","name":"query1"}],"style":{"palette":"cool"},"display_type":"line"}],"custom_links":[]}},{"id":36,"layout":{"x":227,"y":42,"width":39,"height":20},"definition":{"title":"Highest replication lags, by instance","title_size":"16","title_align":"left","time":{"live_span":"4h"},"type":"toplist","requests":[{"formulas":[{"formula":"query1","limit":{"count":10,"order":"desc"}}],"style":{"palette":"warm"},"response_format":"scalar","queries":[{"query":"avg:aws.rds.replica_lag{$region,$zone,$dbinstanceidentifier,engine:mysql} by {dbinstanceidentifier}","data_source":"metrics","name":"query1","aggregator":"avg"}]}],"custom_links":[]}},{"id":37,"layout":{"x":187,"y":0,"width":39,"height":12},"definition":{"type":"note","content":"NOTE: This dashboard displays metrics both from AWS CloudWatch and from the MySQL database engine itself. To see all the metrics, you will need to [enable the MySQL integration](https://docs.datadoghq.com/integrations/mysql/).","background_color":"yellow","font_size":"14","text_align":"left","show_tick":false,"tick_pos":"50%","tick_edge":"left"}},{"id":38,"layout":{"x":54,"y":0,"width":24,"height":12},"definition":{"title":"RDS service status","title_size":"13","title_align":"center","time":{"live_span":"30m"},"type":"check_status","check":"aws.status","grouping":"cluster","tags":["service:rds"]}}],"template_variables":[{"name":"region","prefix":"region","available_values":[],"default":"*"},{"name":"zone","prefix":"availability-zone","available_values":[],"default":"*"},{"name":"dbinstanceidentifier","prefix":"dbinstanceidentifier","available_values":[],"default":"*"}],"layout_type":"free","is_read_only":false,"notify_list":[],"id":"tsr-ja7-9dm"}